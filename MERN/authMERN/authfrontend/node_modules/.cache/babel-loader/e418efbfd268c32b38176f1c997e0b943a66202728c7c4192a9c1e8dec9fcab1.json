{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/user/Documents/Bootcamp/WebDev/MERN/authMERN/authfrontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/user/Documents/Bootcamp/WebDev/MERN/authMERN/authfrontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _defineProperty from\"C:/Users/user/Documents/Bootcamp/WebDev/MERN/authMERN/authfrontend/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"C:/Users/user/Documents/Bootcamp/WebDev/MERN/authMERN/authfrontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/user/Documents/Bootcamp/WebDev/MERN/authMERN/authfrontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import axios from\"axios\";import React,{useState}from\"react\";var Login=function Login(props){var _useState=useState({email:\"\",password:\"\",error:null}),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];var email=data.email,password=data.password,error=data.error;var handleChange=function handleChange(e){setData(_objectSpread(_objectSpread({},data),{},_defineProperty({},e.target.name,e.target.value)));};var handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var res;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:e.preventDefault();_context.prev=1;setData(_objectSpread(_objectSpread({},data),{},{error:null}));_context.next=5;return axios.post(\"https://authmern-ag95.onrender.com/api/auth/login\",{email:email,password:password},{headers:{\"Content-Type\":\"application/json\"}});case 5:res=_context.sent;localStorage.setItem(\"token\",res.data.token);props.history.push(\"/\");_context.next=13;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](1);setData(_objectSpread(_objectSpread({},data),{},{error:_context.t0.response.data.error}));case 13:case\"end\":return _context.stop();}},_callee,null,[[1,10]]);}));return function handleSubmit(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-sm-2\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"col-sm-8\"},/*#__PURE__*/React.createElement(\"h4\",{className:\"text-muted text-center mb-5\"},\"Log into your account\"),/*#__PURE__*/React.createElement(\"div\",{className:\"card p-5 shadow\"},/*#__PURE__*/React.createElement(\"form\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"email\"},\"Email\"),/*#__PURE__*/React.createElement(\"input\",{className:\"form-control\",type:\"email\",name:\"email\",value:email,onChange:handleChange})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"password\"},\"Password\"),/*#__PURE__*/React.createElement(\"input\",{className:\"form-control\",type:\"password\",name:\"password\",value:password,onChange:handleChange})),error?/*#__PURE__*/React.createElement(\"p\",{className:\"text-danger\"},error):null,/*#__PURE__*/React.createElement(\"div\",{className:\"text-center\"},/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-primary\",onClick:handleSubmit},\"Login\"))))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-sm-2\"}));};export default Login;","map":{"version":3,"names":["axios","React","useState","Login","props","_useState","email","password","error","_useState2","_slicedToArray","data","setData","handleChange","e","_objectSpread","_defineProperty","target","name","value","handleSubmit","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","res","wrap","_callee$","_context","prev","next","preventDefault","post","headers","sent","localStorage","setItem","token","history","push","t0","response","stop","_x","apply","arguments","createElement","className","htmlFor","type","onChange","onClick"],"sources":["C:/Users/user/Documents/Bootcamp/WebDev/MERN/authMERN/authfrontend/src/auth/Login.js"],"sourcesContent":["import axios from \"axios\";\nimport React, { useState } from \"react\";\n\nconst Login = (props) => {\n  const [data, setData] = useState({\n    email: \"\",\n    password: \"\",\n    error: null,\n  });\n\n  const { email, password, error } = data;\n\n  const handleChange = (e) => {\n    setData({ ...data, [e.target.name]: e.target.value });\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    try {\n      setData({ ...data, error: null });\n      const res = await axios.post(\n        \"https://authmern-ag95.onrender.com/api/auth/login\",\n        { email, password },\n        {\n          headers: {\n            \"Content-Type\": \"application/json\",\n          },\n        }\n      );\n      localStorage.setItem(\"token\", res.data.token);\n      props.history.push(\"/\");\n    } catch (err) {\n      setData({ ...data, error: err.response.data.error });\n    }\n  };\n\n  return (\n    <div className=\"row\">\n      <div className=\"col-sm-2\" />\n      <div className=\"col-sm-8\">\n        <h4 className=\"text-muted text-center mb-5\">Log into your account</h4>\n        <div className=\"card p-5 shadow\">\n          <form>\n            <div className=\"form-group\">\n              <label htmlFor=\"email\">Email</label>\n              <input\n                className=\"form-control\"\n                type=\"email\"\n                name=\"email\"\n                value={email}\n                onChange={handleChange}\n              />\n            </div>\n            <div className=\"form-group\">\n              <label htmlFor=\"password\">Password</label>\n              <input\n                className=\"form-control\"\n                type=\"password\"\n                name=\"password\"\n                value={password}\n                onChange={handleChange}\n              />\n            </div>\n            {error ? <p className=\"text-danger\">{error}</p> : null}\n            <div className=\"text-center\">\n              <button className=\"btn btn-primary\" onClick={handleSubmit}>\n                Login\n              </button>\n            </div>\n          </form>\n        </div>\n      </div>\n      <div className=\"col-sm-2\" />\n    </div>\n  );\n};\n\nexport default Login;\n"],"mappings":"ywBAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CAEvC,GAAM,CAAAC,KAAK,CAAG,QAAR,CAAAA,KAAKA,CAAIC,KAAK,CAAK,CACvB,IAAAC,SAAA,CAAwBH,QAAQ,CAAC,CAC/BI,KAAK,CAAE,EAAE,CACTC,QAAQ,CAAE,EAAE,CACZC,KAAK,CAAE,IACT,CAAC,CAAC,CAAAC,UAAA,CAAAC,cAAA,CAAAL,SAAA,IAJKM,IAAI,CAAAF,UAAA,IAAEG,OAAO,CAAAH,UAAA,IAMpB,GAAQ,CAAAH,KAAK,CAAsBK,IAAI,CAA/BL,KAAK,CAAEC,QAAQ,CAAYI,IAAI,CAAxBJ,QAAQ,CAAEC,KAAK,CAAKG,IAAI,CAAdH,KAAK,CAE9B,GAAM,CAAAK,YAAY,CAAG,QAAf,CAAAA,YAAYA,CAAIC,CAAC,CAAK,CAC1BF,OAAO,CAAAG,aAAA,CAAAA,aAAA,IAAMJ,IAAI,KAAAK,eAAA,IAAGF,CAAC,CAACG,MAAM,CAACC,IAAI,CAAGJ,CAAC,CAACG,MAAM,CAACE,KAAK,EAAE,CAAC,CACvD,CAAC,CAED,GAAM,CAAAC,YAAY,6BAAAC,IAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAC,QAAOX,CAAC,MAAAY,GAAA,QAAAH,mBAAA,GAAAI,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAC3BjB,CAAC,CAACkB,cAAc,CAAC,CAAC,CAACH,QAAA,CAAAC,IAAA,GAEjBlB,OAAO,CAAAG,aAAA,CAAAA,aAAA,IAAMJ,IAAI,MAAEH,KAAK,CAAE,IAAI,EAAE,CAAC,CAACqB,QAAA,CAAAE,IAAA,SAChB,CAAA/B,KAAK,CAACiC,IAAI,CAC1B,mDAAmD,CACnD,CAAE3B,KAAK,CAALA,KAAK,CAAEC,QAAQ,CAARA,QAAS,CAAC,CACnB,CACE2B,OAAO,CAAE,CACP,cAAc,CAAE,kBAClB,CACF,CACF,CAAC,QARKR,GAAG,CAAAG,QAAA,CAAAM,IAAA,CASTC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAEX,GAAG,CAACf,IAAI,CAAC2B,KAAK,CAAC,CAC7ClC,KAAK,CAACmC,OAAO,CAACC,IAAI,CAAC,GAAG,CAAC,CAACX,QAAA,CAAAE,IAAA,kBAAAF,QAAA,CAAAC,IAAA,IAAAD,QAAA,CAAAY,EAAA,CAAAZ,QAAA,aAExBjB,OAAO,CAAAG,aAAA,CAAAA,aAAA,IAAMJ,IAAI,MAAEH,KAAK,CAAEqB,QAAA,CAAAY,EAAA,CAAIC,QAAQ,CAAC/B,IAAI,CAACH,KAAK,EAAE,CAAC,CAAC,yBAAAqB,QAAA,CAAAc,IAAA,MAAAlB,OAAA,iBAExD,kBAlBK,CAAAL,YAAYA,CAAAwB,EAAA,SAAAvB,IAAA,CAAAwB,KAAA,MAAAC,SAAA,OAkBjB,CAED,mBACE7C,KAAA,CAAA8C,aAAA,QAAKC,SAAS,CAAC,KAAK,eAClB/C,KAAA,CAAA8C,aAAA,QAAKC,SAAS,CAAC,UAAU,CAAE,CAAC,cAC5B/C,KAAA,CAAA8C,aAAA,QAAKC,SAAS,CAAC,UAAU,eACvB/C,KAAA,CAAA8C,aAAA,OAAIC,SAAS,CAAC,6BAA6B,EAAC,uBAAyB,CAAC,cACtE/C,KAAA,CAAA8C,aAAA,QAAKC,SAAS,CAAC,iBAAiB,eAC9B/C,KAAA,CAAA8C,aAAA,0BACE9C,KAAA,CAAA8C,aAAA,QAAKC,SAAS,CAAC,YAAY,eACzB/C,KAAA,CAAA8C,aAAA,UAAOE,OAAO,CAAC,OAAO,EAAC,OAAY,CAAC,cACpChD,KAAA,CAAA8C,aAAA,UACEC,SAAS,CAAC,cAAc,CACxBE,IAAI,CAAC,OAAO,CACZhC,IAAI,CAAC,OAAO,CACZC,KAAK,CAAEb,KAAM,CACb6C,QAAQ,CAAEtC,YAAa,CACxB,CACE,CAAC,cACNZ,KAAA,CAAA8C,aAAA,QAAKC,SAAS,CAAC,YAAY,eACzB/C,KAAA,CAAA8C,aAAA,UAAOE,OAAO,CAAC,UAAU,EAAC,UAAe,CAAC,cAC1ChD,KAAA,CAAA8C,aAAA,UACEC,SAAS,CAAC,cAAc,CACxBE,IAAI,CAAC,UAAU,CACfhC,IAAI,CAAC,UAAU,CACfC,KAAK,CAAEZ,QAAS,CAChB4C,QAAQ,CAAEtC,YAAa,CACxB,CACE,CAAC,CACLL,KAAK,cAAGP,KAAA,CAAA8C,aAAA,MAAGC,SAAS,CAAC,aAAa,EAAExC,KAAS,CAAC,CAAG,IAAI,cACtDP,KAAA,CAAA8C,aAAA,QAAKC,SAAS,CAAC,aAAa,eAC1B/C,KAAA,CAAA8C,aAAA,WAAQC,SAAS,CAAC,iBAAiB,CAACI,OAAO,CAAEhC,YAAa,EAAC,OAEnD,CACL,CACD,CACH,CACF,CAAC,cACNnB,KAAA,CAAA8C,aAAA,QAAKC,SAAS,CAAC,UAAU,CAAE,CACxB,CAAC,CAEV,CAAC,CAED,cAAe,CAAA7C,KAAK"},"metadata":{},"sourceType":"module","externalDependencies":[]}