{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\user\\\\Documents\\\\Bootcamp\\\\WebDev\\\\MERN\\\\authMERN\\\\authfrontend\\\\src\\\\Home.js\";\nimport React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\n\nconst Home = props => {\n  const [user, setUser] = useState(null);\n\n  const getUser = async () => {\n    const res = await axios.get(\"/api/auth\", {\n      headers: {\n        Authorization: `Bearer ${localStorage.getItem(\"token\")}`\n      }\n    });\n    setUser(res.data);\n  };\n\n  useEffect(() => {\n    getUser();\n  }, []);\n\n  const logout = () => {\n    localStorage.removeItem(\"token\");\n    props.history.push(\"/login\");\n  };\n\n  if (!localStorage.getItem(\"token\")) {\n    props.history.push(\"/login\");\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"m-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"jumbotron\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: \"lead\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 9\n    }\n  }, \"Welcome \", user && user.name), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn btn-danger\",\n    onClick: logout,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 9\n    }\n  }, \"Logout\")));\n};\n\nexport default Home;","map":{"version":3,"sources":["C:/Users/user/Documents/Bootcamp/WebDev/MERN/authMERN/authfrontend/src/Home.js"],"names":["React","useEffect","useState","axios","Home","props","user","setUser","getUser","res","get","headers","Authorization","localStorage","getItem","data","logout","removeItem","history","push","name"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AAEA,MAAMC,IAAI,GAAIC,KAAD,IAAW;AACtB,QAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBL,QAAQ,CAAC,IAAD,CAAhC;;AAEA,QAAMM,OAAO,GAAG,YAAY;AAC1B,UAAMC,GAAG,GAAG,MAAMN,KAAK,CAACO,GAAN,CAAU,WAAV,EAAuB;AACvCC,MAAAA,OAAO,EAAE;AACPC,QAAAA,aAAa,EAAG,UAASC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAA8B;AADhD;AAD8B,KAAvB,CAAlB;AAKAP,IAAAA,OAAO,CAACE,GAAG,CAACM,IAAL,CAAP;AACD,GAPD;;AAQAd,EAAAA,SAAS,CAAC,MAAM;AACdO,IAAAA,OAAO;AACR,GAFQ,EAEN,EAFM,CAAT;;AAIA,QAAMQ,MAAM,GAAG,MAAM;AACnBH,IAAAA,YAAY,CAACI,UAAb,CAAwB,OAAxB;AACAZ,IAAAA,KAAK,CAACa,OAAN,CAAcC,IAAd,CAAmB,QAAnB;AACD,GAHD;;AAKA,MAAI,CAACN,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAL,EAAoC;AAClCT,IAAAA,KAAK,CAACa,OAAN,CAAcC,IAAd,CAAmB,QAAnB;AACD;;AACD,sBACE;AAAK,IAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAG,IAAA,SAAS,EAAC,MAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAA6Bb,IAAI,IAAIA,IAAI,CAACc,IAA1C,CADF,eAEE;AAAQ,IAAA,SAAS,EAAC,gBAAlB;AAAmC,IAAA,OAAO,EAAEJ,MAA5C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAFF,CADF,CADF;AAUD,CAjCD;;AAmCA,eAAeZ,IAAf","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\n\nconst Home = (props) => {\n  const [user, setUser] = useState(null);\n\n  const getUser = async () => {\n    const res = await axios.get(\"/api/auth\", {\n      headers: {\n        Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n      },\n    });\n    setUser(res.data);\n  };\n  useEffect(() => {\n    getUser();\n  }, []);\n\n  const logout = () => {\n    localStorage.removeItem(\"token\");\n    props.history.push(\"/login\");\n  };\n\n  if (!localStorage.getItem(\"token\")) {\n    props.history.push(\"/login\");\n  }\n  return (\n    <div className=\"m-5\">\n      <div className=\"jumbotron\">\n        <p className=\"lead\">Welcome {user && user.name}</p>\n        <button className=\"btn btn-danger\" onClick={logout}>\n          Logout\n        </button>\n      </div>\n    </div>\n  );\n};\n\nexport default Home;\n"]},"metadata":{},"sourceType":"module"}